{"ast":null,"code":"export class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n  getInitialCards() {\n    const jwt = localStorage.getItem(\"jwt\");\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      }\n    }).then(this._checkResponse);\n  }\n  getInfoUser() {\n    const jwt = localStorage.getItem(\"jwt\");\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      }\n    }).then(this._checkResponse);\n  }\n  updateUserInfo(userData) {\n    const jwt = localStorage.getItem(\"jwt\");\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    }).then(this._checkResponse);\n  }\n  addNewCard(newCardData) {\n    const jwt = localStorage.getItem(\"jwt\");\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: newCardData.description,\n        link: newCardData.image\n      })\n    }).then(this._checkResponse);\n  }\n  addLike(cardId) {\n    const jwt = localStorage.getItem(\"jwt\");\n    return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    }).then(this._checkResponse);\n  }\n  removeLike(cardId) {\n    const jwt = localStorage.getItem(\"jwt\");\n    return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    }).then(this._checkResponse);\n  }\n  deleteCard(cardId) {\n    const jwt = localStorage.getItem(\"jwt\");\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    }).then(this._checkResponse);\n  }\n  updateUserAvatar(data) {\n    const jwt = localStorage.getItem(\"jwt\");\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      },\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then(this._checkResponse);\n  }\n  _checkResponse(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка ${res.status}`);\n    }\n    return res.json();\n  }\n}\nexport const api = new Api({\n  baseUrl: 'http://localhost:3000',\n  headers: {\n    // authorization: '73e5a98c-079b-4b9e-b964-5323cdfb16c2',\n    'Content-Type': 'application/json'\n  }\n});","map":{"version":3,"names":["Api","constructor","options","baseUrl","headers","getInitialCards","jwt","localStorage","getItem","fetch","Authorization","then","_checkResponse","getInfoUser","updateUserInfo","userData","method","body","JSON","stringify","addNewCard","newCardData","name","description","link","image","addLike","cardId","removeLike","deleteCard","updateUserAvatar","data","avatar","res","ok","Promise","reject","status","json","api"],"sources":["/Users/mariahudakova/Desktop/practicum/dev/react-mesto-api-full-gha/frontend/src/utils/Api.js"],"sourcesContent":["export class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  getInitialCards() {\n    const jwt = localStorage.getItem(\"jwt\");\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      },\n    }).then(this._checkResponse);\n  }\n\n  getInfoUser() {\n    const jwt = localStorage.getItem(\"jwt\");\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      },\n    }).then(this._checkResponse);\n  }\n\n  updateUserInfo(userData) {\n    const jwt = localStorage.getItem(\"jwt\");\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    }).then(this._checkResponse);\n  }\n\n  addNewCard(newCardData) {\n    const jwt = localStorage.getItem(\"jwt\");\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: newCardData.description,\n        link: newCardData.image\n      })\n    }).then(this._checkResponse);\n  }\n\n  addLike(cardId) {\n    const jwt = localStorage.getItem(\"jwt\");\n    return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    }).then(this._checkResponse);\n  }\n\n  removeLike(cardId) {\n    const jwt = localStorage.getItem(\"jwt\");\n    return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(cardId) {\n    const jwt = localStorage.getItem(\"jwt\");\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    }).then(this._checkResponse);\n  }\n\n  updateUserAvatar(data) {\n    const jwt = localStorage.getItem(\"jwt\");\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      },\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then(this._checkResponse);\n  }\n\n  _checkResponse(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка ${res.status}`);\n    }\n    return res.json();\n  }\n}\n\nexport const api = new Api({\n  baseUrl: 'http://localhost:3000',\n  headers: {\n    // authorization: '73e5a98c-079b-4b9e-b964-5323cdfb16c2',\n    'Content-Type': 'application/json'\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}