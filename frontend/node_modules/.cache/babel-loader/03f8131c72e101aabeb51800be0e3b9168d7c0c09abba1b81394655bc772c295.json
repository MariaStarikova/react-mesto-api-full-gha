{"ast":null,"code":"export class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: {\n        authorization: this.headers.authorization,\n        'Content-Type': 'application/json'\n      }\n    }).then(this._checkResponse);\n  }\n  getInfoUser() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: {\n        authorization: this.headers.authorization,\n        'Content-Type': 'application/json'\n      }\n    }).then(this._checkResponse);\n  }\n  updateUserInfo(userData) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.headers.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    }).then(this._checkResponse);\n  }\n  addNewCard(newCardData) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this.headers.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: newCardData.description,\n        link: newCardData.image\n      })\n    }).then(this._checkResponse);\n  }\n  addLike(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: {\n        authorization: this.headers.authorization\n      }\n    }).then(this._checkResponse);\n  }\n  removeLike(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this.headers.authorization\n      }\n    }).then(this._checkResponse);\n  }\n  deleteCard(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this.headers.authorization\n      }\n    }).then(this._checkResponse);\n  }\n  updateUserAvatar(data) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then(this._checkResponse);\n  }\n  _checkResponse(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка ${res.status}`);\n    }\n    return res.json();\n  }\n}\nexport const api = new Api({\n  baseUrl: 'http://localhost:3000',\n  headers: {\n    // authorization: '73e5a98c-079b-4b9e-b964-5323cdfb16c2',\n    'Content-Type': 'application/json'\n  }\n});","map":{"version":3,"names":["Api","constructor","options","baseUrl","headers","getInitialCards","fetch","authorization","then","_checkResponse","getInfoUser","updateUserInfo","userData","method","body","JSON","stringify","addNewCard","newCardData","name","description","link","image","addLike","cardId","removeLike","deleteCard","updateUserAvatar","data","avatar","res","ok","Promise","reject","status","json","api"],"sources":["/Users/mariahudakova/Desktop/practicum/dev/react-mesto-api-full-gha/frontend/src/utils/Api.js"],"sourcesContent":["export class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: {\n        authorization: this.headers.authorization,\n        'Content-Type': 'application/json'\n      },\n    }).then(this._checkResponse);\n  }\n\n  getInfoUser() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: {\n        authorization: this.headers.authorization,\n        'Content-Type': 'application/json'\n      },\n    }).then(this._checkResponse);\n  }\n\n  updateUserInfo(userData) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.headers.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    }).then(this._checkResponse);\n  }\n\n  addNewCard(newCardData) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this.headers.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: newCardData.description,\n        link: newCardData.image\n      })\n    }).then(this._checkResponse);\n  }\n\n  addLike(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: {\n        authorization: this.headers.authorization\n      }\n    }).then(this._checkResponse);\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this.headers.authorization\n      }\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this.headers.authorization\n      }\n    }).then(this._checkResponse);\n  }\n\n  updateUserAvatar(data) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then(this._checkResponse);\n  }\n\n  _checkResponse(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка ${res.status}`);\n    }\n    return res.json();\n  }\n}\n\nexport const api = new Api({\n  baseUrl: 'http://localhost:3000',\n  headers: {\n    // authorization: '73e5a98c-079b-4b9e-b964-5323cdfb16c2',\n    'Content-Type': 'application/json'\n  }\n});"],"mappings":"AAAA,OAAO,MAAMA,GAAG,CAAC;EACfC,WAAWA,CAACC,OAAO,EAAE;IACnB,IAAI,CAACC,OAAO,GAAGD,OAAO,CAACC,OAAO;IAC9B,IAAI,CAACC,OAAO,GAAGF,OAAO,CAACE,OAAO;EAChC;EAEAC,eAAeA,CAAA,EAAG;IAChB,OAAOC,KAAK,CAAE,GAAE,IAAI,CAACH,OAAQ,QAAO,EAAE;MACpCC,OAAO,EAAE;QACPG,aAAa,EAAE,IAAI,CAACH,OAAO,CAACG,aAAa;QACzC,cAAc,EAAE;MAClB;IACF,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC;EAC9B;EAEAC,WAAWA,CAAA,EAAG;IACZ,OAAOJ,KAAK,CAAE,GAAE,IAAI,CAACH,OAAQ,WAAU,EAAE;MACvCC,OAAO,EAAE;QACPG,aAAa,EAAE,IAAI,CAACH,OAAO,CAACG,aAAa;QACzC,cAAc,EAAE;MAClB;IACF,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC;EAC9B;EAEAE,cAAcA,CAACC,QAAQ,EAAE;IACvB,OAAON,KAAK,CAAE,GAAE,IAAI,CAACH,OAAQ,WAAU,EAAE;MACvCU,MAAM,EAAE,OAAO;MACfT,OAAO,EAAE;QACPG,aAAa,EAAE,IAAI,CAACH,OAAO,CAACG,aAAa;QACzC,cAAc,EAAE;MAClB,CAAC;MACDO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ;IAC/B,CAAC,CAAC,CAACJ,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC;EAC9B;EAEAQ,UAAUA,CAACC,WAAW,EAAE;IACtB,OAAOZ,KAAK,CAAE,GAAE,IAAI,CAACH,OAAQ,QAAO,EAAE;MACpCU,MAAM,EAAE,MAAM;MACdT,OAAO,EAAE;QACPG,aAAa,EAAE,IAAI,CAACH,OAAO,CAACG,aAAa;QACzC,cAAc,EAAE;MAClB,CAAC;MACDO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBG,IAAI,EAAED,WAAW,CAACE,WAAW;QAC7BC,IAAI,EAAEH,WAAW,CAACI;MACpB,CAAC;IACH,CAAC,CAAC,CAACd,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC;EAC9B;EAEAc,OAAOA,CAACC,MAAM,EAAE;IACd,OAAOlB,KAAK,CAAE,GAAE,IAAI,CAACH,OAAQ,UAASqB,MAAO,QAAO,EAAE;MACpDX,MAAM,EAAE,KAAK;MACbT,OAAO,EAAE;QACPG,aAAa,EAAE,IAAI,CAACH,OAAO,CAACG;MAC9B;IACF,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC;EAC9B;EAEAgB,UAAUA,CAACD,MAAM,EAAE;IACjB,OAAOlB,KAAK,CAAE,GAAE,IAAI,CAACH,OAAQ,UAASqB,MAAO,QAAO,EAAE;MACpDX,MAAM,EAAE,QAAQ;MAChBT,OAAO,EAAE;QACPG,aAAa,EAAE,IAAI,CAACH,OAAO,CAACG;MAC9B;IACF,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC;EAC9B;EAEAiB,UAAUA,CAACF,MAAM,EAAE;IACjB,OAAOlB,KAAK,CAAE,GAAE,IAAI,CAACH,OAAQ,UAASqB,MAAO,EAAC,EAAE;MAC9CX,MAAM,EAAE,QAAQ;MAChBT,OAAO,EAAE;QACPG,aAAa,EAAE,IAAI,CAACH,OAAO,CAACG;MAC9B;IACF,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC;EAC9B;EAEAkB,gBAAgBA,CAACC,IAAI,EAAE;IACrB,OAAOtB,KAAK,CAAE,GAAE,IAAI,CAACH,OAAQ,kBAAiB,EAAE;MAC9CU,MAAM,EAAE,OAAO;MACfT,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBU,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBa,MAAM,EAAED,IAAI,CAACC;MACf,CAAC;IACH,CAAC,CAAC,CAACrB,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC;EAC9B;EAEAA,cAAcA,CAACqB,GAAG,EAAE;IAClB,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;MACX,OAAOC,OAAO,CAACC,MAAM,CAAE,UAASH,GAAG,CAACI,MAAO,EAAC,CAAC;IAC/C;IACA,OAAOJ,GAAG,CAACK,IAAI,CAAC,CAAC;EACnB;AACF;AAEA,OAAO,MAAMC,GAAG,GAAG,IAAIpC,GAAG,CAAC;EACzBG,OAAO,EAAE,uBAAuB;EAChCC,OAAO,EAAE;IACP;IACA,cAAc,EAAE;EAClB;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}