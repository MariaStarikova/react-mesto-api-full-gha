{"ast":null,"code":"export class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers\n    }).then(this._checkResponse);\n  }\n  getInfoUser() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers\n    }).then(this._checkResponse);\n  }\n  updateUserInfo(userData) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.headers.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    }).then(this._checkResponse);\n  }\n  addNewCard(newCardData) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this.headers.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newCardData)\n    }).then(this._checkResponse);\n  }\n  addLike(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: {\n        authorization: this.headers.authorization\n      }\n    }).then(this._checkResponse);\n  }\n  removeLike(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this.headers.authorization\n      }\n    }).then(this._checkResponse);\n  }\n  deleteCard(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this.headers.authorization\n      }\n    }).then(this._checkResponse);\n  }\n  updateUserAvatar(avatarLink) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatarLink\n      })\n    }).then(this._checkResponse);\n  }\n  _checkResponse(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка ${res.status}`);\n    }\n    return res.json();\n  }\n}\nexport const api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-74',\n  headers: {\n    authorization: '73e5a98c-079b-4b9e-b964-5323cdfb16c2',\n    'Content-Type': 'application/json'\n  }\n});","map":{"version":3,"names":["Api","constructor","options","baseUrl","headers","getInitialCards","fetch","then","_checkResponse","getInfoUser","updateUserInfo","userData","method","authorization","body","JSON","stringify","addNewCard","newCardData","addLike","cardId","removeLike","deleteCard","updateUserAvatar","avatarLink","avatar","res","ok","Promise","reject","status","json","api"],"sources":["/Users/mariahudakova/Desktop/practicum/dev/mesto-react/mesto-react/src/utils/Api.js"],"sourcesContent":["export class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers\n    }).then(this._checkResponse);\n  }\n\n  getInfoUser() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers\n    }).then(this._checkResponse);\n  }\n\n  updateUserInfo(userData) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.headers.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    }).then(this._checkResponse);\n  }\n\n  addNewCard(newCardData) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this.headers.authorization,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newCardData)\n    }).then(this._checkResponse);\n  }\n\n  addLike(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: {\n        authorization: this.headers.authorization\n      }\n    }).then(this._checkResponse);\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this.headers.authorization\n      }\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this.headers.authorization\n      }\n    }).then(this._checkResponse);\n  }\n\n  updateUserAvatar(avatarLink) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatarLink\n      })\n    }).then(this._checkResponse);\n  }\n\n  _checkResponse(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка ${res.status}`);\n    }\n    return res.json();\n  }\n}\n\nexport const api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-74',\n  headers: {\n    authorization: '73e5a98c-079b-4b9e-b964-5323cdfb16c2',\n    'Content-Type': 'application/json'\n  }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}